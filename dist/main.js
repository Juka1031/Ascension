(()=>{var t={3099:t=>{t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},1223:(t,e,i)=>{var r=i(5112),n=i(30),o=i(3070),s=r("unscopables"),a=Array.prototype;null==a[s]&&o.f(a,s,{configurable:!0,value:n(null)}),t.exports=function(t){a[s][t]=!0}},9670:(t,e,i)=>{var r=i(111);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},1285:(t,e,i)=>{"use strict";var r=i(7908),n=i(1400),o=i(7466);t.exports=function(t){for(var e=r(this),i=o(e.length),s=arguments.length,a=n(s>1?arguments[1]:void 0,i),l=s>2?arguments[2]:void 0,c=void 0===l?i:n(l,i);c>a;)e[a++]=t;return e}},1318:(t,e,i)=>{var r=i(5656),n=i(7466),o=i(1400),s=function(t){return function(e,i,s){var a,l=r(e),c=n(l.length),u=o(s,c);if(t&&i!=i){for(;c>u;)if((a=l[u++])!=a)return!0}else for(;c>u;u++)if((t||u in l)&&l[u]===i)return t||u||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},2092:(t,e,i)=>{var r=i(9974),n=i(8361),o=i(7908),s=i(7466),a=i(5417),l=[].push,c=function(t){var e=1==t,i=2==t,c=3==t,u=4==t,h=6==t,f=7==t,p=5==t||h;return function(v,d,y,m){for(var g,b,w=o(v),S=n(w),x=r(d,y,3),k=s(S.length),O=0,j=m||a,z=e?j(v,k):i||f?j(v,0):void 0;k>O;O++)if((p||O in S)&&(b=x(g=S[O],O,w),t))if(e)z[O]=b;else if(b)switch(t){case 3:return!0;case 5:return g;case 6:return O;case 2:l.call(z,g)}else switch(t){case 4:return!1;case 7:l.call(z,g)}return h?-1:c||u?u:z}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterReject:c(7)}},1194:(t,e,i)=>{var r=i(7293),n=i(5112),o=i(7392),s=n("species");t.exports=function(t){return o>=51||!r((function(){var e=[];return(e.constructor={})[s]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},7475:(t,e,i)=>{var r=i(111),n=i(3157),o=i(5112)("species");t.exports=function(t){var e;return n(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!n(e.prototype)?r(e)&&null===(e=e[o])&&(e=void 0):e=void 0),void 0===e?Array:e}},5417:(t,e,i)=>{var r=i(7475);t.exports=function(t,e){return new(r(t))(0===e?0:e)}},4326:t=>{var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},9920:(t,e,i)=>{var r=i(6656),n=i(3887),o=i(1236),s=i(3070);t.exports=function(t,e){for(var i=n(e),a=s.f,l=o.f,c=0;c<i.length;c++){var u=i[c];r(t,u)||a(t,u,l(e,u))}}},8880:(t,e,i)=>{var r=i(9781),n=i(3070),o=i(9114);t.exports=r?function(t,e,i){return n.f(t,e,o(1,i))}:function(t,e,i){return t[e]=i,t}},9114:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},9781:(t,e,i)=>{var r=i(7293);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:(t,e,i)=>{var r=i(7854),n=i(111),o=r.document,s=n(o)&&n(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},8113:(t,e,i)=>{var r=i(5005);t.exports=r("navigator","userAgent")||""},7392:(t,e,i)=>{var r,n,o=i(7854),s=i(8113),a=o.process,l=o.Deno,c=a&&a.versions||l&&l.version,u=c&&c.v8;u?n=(r=u.split("."))[0]<4?1:r[0]+r[1]:s&&(!(r=s.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/))&&(n=r[1]),t.exports=n&&+n},748:t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:(t,e,i)=>{var r=i(7854),n=i(1236).f,o=i(8880),s=i(1320),a=i(3505),l=i(9920),c=i(4705);t.exports=function(t,e){var i,u,h,f,p,v=t.target,d=t.global,y=t.stat;if(i=d?r:y?r[v]||a(v,{}):(r[v]||{}).prototype)for(u in e){if(f=e[u],h=t.noTargetGet?(p=n(i,u))&&p.value:i[u],!c(d?u:v+(y?".":"#")+u,t.forced)&&void 0!==h){if(typeof f==typeof h)continue;l(f,h)}(t.sham||h&&h.sham)&&o(f,"sham",!0),s(i,u,f,t)}}},7293:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},9974:(t,e,i)=>{var r=i(3099);t.exports=function(t,e,i){if(r(t),void 0===e)return t;switch(i){case 0:return function(){return t.call(e)};case 1:return function(i){return t.call(e,i)};case 2:return function(i,r){return t.call(e,i,r)};case 3:return function(i,r,n){return t.call(e,i,r,n)}}return function(){return t.apply(e,arguments)}}},5005:(t,e,i)=>{var r=i(7854),n=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?n(r[t]):r[t]&&r[t][e]}},7854:t=>{var e=function(t){return t&&t.Math==Math&&t};t.exports=e("object"==typeof globalThis&&globalThis)||e("object"==typeof window&&window)||e("object"==typeof self&&self)||e("object"==typeof global&&global)||function(){return this}()||Function("return this")()},6656:(t,e,i)=>{var r=i(7908),n={}.hasOwnProperty;t.exports=Object.hasOwn||function(t,e){return n.call(r(t),e)}},3501:t=>{t.exports={}},490:(t,e,i)=>{var r=i(5005);t.exports=r("document","documentElement")},4664:(t,e,i)=>{var r=i(9781),n=i(7293),o=i(317);t.exports=!r&&!n((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},8361:(t,e,i)=>{var r=i(7293),n=i(4326),o="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==n(t)?o.call(t,""):Object(t)}:Object},2581:(t,e,i)=>{var r=i(5465),n=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(t){return n.call(t)}),t.exports=r.inspectSource},9909:(t,e,i)=>{var r,n,o,s=i(8536),a=i(7854),l=i(111),c=i(8880),u=i(6656),h=i(5465),f=i(6200),p=i(3501),v="Object already initialized",d=a.WeakMap;if(s||h.state){var y=h.state||(h.state=new d),m=y.get,g=y.has,b=y.set;r=function(t,e){if(g.call(y,t))throw new TypeError(v);return e.facade=t,b.call(y,t,e),e},n=function(t){return m.call(y,t)||{}},o=function(t){return g.call(y,t)}}else{var w=f("state");p[w]=!0,r=function(t,e){if(u(t,w))throw new TypeError(v);return e.facade=t,c(t,w,e),e},n=function(t){return u(t,w)?t[w]:{}},o=function(t){return u(t,w)}}t.exports={set:r,get:n,has:o,enforce:function(t){return o(t)?n(t):r(t,{})},getterFor:function(t){return function(e){var i;if(!l(e)||(i=n(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return i}}}},3157:(t,e,i)=>{var r=i(4326);t.exports=Array.isArray||function(t){return"Array"==r(t)}},4705:(t,e,i)=>{var r=i(7293),n=/#|\.prototype\./,o=function(t,e){var i=a[s(t)];return i==c||i!=l&&("function"==typeof e?r(e):!!e)},s=o.normalize=function(t){return String(t).replace(n,".").toLowerCase()},a=o.data={},l=o.NATIVE="N",c=o.POLYFILL="P";t.exports=o},111:t=>{t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},1913:t=>{t.exports=!1},2190:(t,e,i)=>{var r=i(5005),n=i(3307);t.exports=n?function(t){return"symbol"==typeof t}:function(t){var e=r("Symbol");return"function"==typeof e&&Object(t)instanceof e}},133:(t,e,i)=>{var r=i(7392),n=i(7293);t.exports=!!Object.getOwnPropertySymbols&&!n((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},8536:(t,e,i)=>{var r=i(7854),n=i(2581),o=r.WeakMap;t.exports="function"==typeof o&&/native code/.test(n(o))},30:(t,e,i)=>{var r,n=i(9670),o=i(6048),s=i(748),a=i(3501),l=i(490),c=i(317),u=i(6200)("IE_PROTO"),h=function(){},f=function(t){return"<script>"+t+"<\/script>"},p=function(t){t.write(f("")),t.close();var e=t.parentWindow.Object;return t=null,e},v=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}v=document.domain&&r?p(r):function(){var t,e=c("iframe");if(e.style)return e.style.display="none",l.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(f("document.F=Object")),t.close(),t.F}()||p(r);for(var t=s.length;t--;)delete v.prototype[s[t]];return v()};a[u]=!0,t.exports=Object.create||function(t,e){var i;return null!==t?(h.prototype=n(t),i=new h,h.prototype=null,i[u]=t):i=v(),void 0===e?i:o(i,e)}},6048:(t,e,i)=>{var r=i(9781),n=i(3070),o=i(9670),s=i(1956);t.exports=r?Object.defineProperties:function(t,e){o(t);for(var i,r=s(e),a=r.length,l=0;a>l;)n.f(t,i=r[l++],e[i]);return t}},3070:(t,e,i)=>{var r=i(9781),n=i(4664),o=i(9670),s=i(4948),a=Object.defineProperty;e.f=r?a:function(t,e,i){if(o(t),e=s(e),o(i),n)try{return a(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported");return"value"in i&&(t[e]=i.value),t}},1236:(t,e,i)=>{var r=i(9781),n=i(5296),o=i(9114),s=i(5656),a=i(4948),l=i(6656),c=i(4664),u=Object.getOwnPropertyDescriptor;e.f=r?u:function(t,e){if(t=s(t),e=a(e),c)try{return u(t,e)}catch(t){}if(l(t,e))return o(!n.f.call(t,e),t[e])}},8006:(t,e,i)=>{var r=i(6324),n=i(748).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,n)}},5181:(t,e)=>{e.f=Object.getOwnPropertySymbols},6324:(t,e,i)=>{var r=i(6656),n=i(5656),o=i(1318).indexOf,s=i(3501);t.exports=function(t,e){var i,a=n(t),l=0,c=[];for(i in a)!r(s,i)&&r(a,i)&&c.push(i);for(;e.length>l;)r(a,i=e[l++])&&(~o(c,i)||c.push(i));return c}},1956:(t,e,i)=>{var r=i(6324),n=i(748);t.exports=Object.keys||function(t){return r(t,n)}},5296:(t,e)=>{"use strict";var i={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,n=r&&!i.call({1:2},1);e.f=n?function(t){var e=r(this,t);return!!e&&e.enumerable}:i},2140:(t,e,i)=>{var r=i(111);t.exports=function(t,e){var i,n;if("string"===e&&"function"==typeof(i=t.toString)&&!r(n=i.call(t)))return n;if("function"==typeof(i=t.valueOf)&&!r(n=i.call(t)))return n;if("string"!==e&&"function"==typeof(i=t.toString)&&!r(n=i.call(t)))return n;throw TypeError("Can't convert object to primitive value")}},3887:(t,e,i)=>{var r=i(5005),n=i(8006),o=i(5181),s=i(9670);t.exports=r("Reflect","ownKeys")||function(t){var e=n.f(s(t)),i=o.f;return i?e.concat(i(t)):e}},1320:(t,e,i)=>{var r=i(7854),n=i(8880),o=i(6656),s=i(3505),a=i(2581),l=i(9909),c=l.get,u=l.enforce,h=String(String).split("String");(t.exports=function(t,e,i,a){var l,c=!!a&&!!a.unsafe,f=!!a&&!!a.enumerable,p=!!a&&!!a.noTargetGet;"function"==typeof i&&("string"!=typeof e||o(i,"name")||n(i,"name",e),(l=u(i)).source||(l.source=h.join("string"==typeof e?e:""))),t!==r?(c?!p&&t[e]&&(f=!0):delete t[e],f?t[e]=i:n(t,e,i)):f?t[e]=i:s(e,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||a(this)}))},4488:t=>{t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},3505:(t,e,i)=>{var r=i(7854);t.exports=function(t,e){try{Object.defineProperty(r,t,{value:e,configurable:!0,writable:!0})}catch(i){r[t]=e}return e}},6200:(t,e,i)=>{var r=i(2309),n=i(9711),o=r("keys");t.exports=function(t){return o[t]||(o[t]=n(t))}},5465:(t,e,i)=>{var r=i(7854),n=i(3505),o="__core-js_shared__",s=r[o]||n(o,{});t.exports=s},2309:(t,e,i)=>{var r=i(1913),n=i(5465);(t.exports=function(t,e){return n[t]||(n[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.16.1",mode:r?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},1400:(t,e,i)=>{var r=i(9958),n=Math.max,o=Math.min;t.exports=function(t,e){var i=r(t);return i<0?n(i+e,0):o(i,e)}},5656:(t,e,i)=>{var r=i(8361),n=i(4488);t.exports=function(t){return r(n(t))}},9958:t=>{var e=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:e)(t)}},7466:(t,e,i)=>{var r=i(9958),n=Math.min;t.exports=function(t){return t>0?n(r(t),9007199254740991):0}},7908:(t,e,i)=>{var r=i(4488);t.exports=function(t){return Object(r(t))}},7593:(t,e,i)=>{var r=i(111),n=i(2190),o=i(2140),s=i(5112)("toPrimitive");t.exports=function(t,e){if(!r(t)||n(t))return t;var i,a=t[s];if(void 0!==a){if(void 0===e&&(e="default"),i=a.call(t,e),!r(i)||n(i))return i;throw TypeError("Can't convert object to primitive value")}return void 0===e&&(e="number"),o(t,e)}},4948:(t,e,i)=>{var r=i(7593),n=i(2190);t.exports=function(t){var e=r(t,"string");return n(e)?e:String(e)}},9711:t=>{var e=0,i=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++e+i).toString(36)}},3307:(t,e,i)=>{var r=i(133);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5112:(t,e,i)=>{var r=i(7854),n=i(2309),o=i(6656),s=i(9711),a=i(133),l=i(3307),c=n("wks"),u=r.Symbol,h=l?u:u&&u.withoutSetter||s;t.exports=function(t){return o(c,t)&&(a||"string"==typeof c[t])||(a&&o(u,t)?c[t]=u[t]:c[t]=h("Symbol."+t)),c[t]}},3290:(t,e,i)=>{var r=i(2109),n=i(1285),o=i(1223);r({target:"Array",proto:!0},{fill:n}),o("fill")},1249:(t,e,i)=>{"use strict";var r=i(2109),n=i(2092).map;r({target:"Array",proto:!0,forced:!i(1194)("map")},{map:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})}},e={};function i(r){var n=e[r];if(void 0!==n)return n.exports;var o=e[r]={exports:{}};return t[r](o,o.exports,i),o.exports}(()=>{"use strict";function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}i(3290),i(1249);var e=function(){function e(t,i,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.board=document.createElement("canvas").getContext("2d"),this.context=t.getContext("2d");var o=t.getContext("2d");t.height=i,t.width=r,o.fillRect(0,0,t.width,t.height),n&&o.clearRect(0,0,t.width,t.height)}var i,r;return i=e,(r=[{key:"fill",value:function(t){this.board.fillRect(0,0,this.board.canvas.width,this.board.canvas.height)}},{key:"drawPlayer",value:function(t){this.board.drawImage(t.playerSprite,t.frameSet[t.direction][t.spriteFrame][0],t.frameSet[t.direction][t.spriteFrame][1],16,16,t.posX,t.posY,t.width,t.height)}},{key:"drawLevel",value:function(){}},{key:"drawMap",value:function(t,e){for(var i=t.map.length-1;i>-1;--i){var r=t.map[i],n=r%t.levelOne.col*t.levelOne.block,o=Math.floor(r/t.levelOne.col)*t.levelOne.block,s=i%e*t.levelOne.block,a=Math.floor(i/e)*t.levelOne.block;this.board.drawImage(t.levelOne.tilesheet,n,o,t.levelOne.block,t.levelOne.block,s,a,t.levelOne.block,t.levelOne.block)}}},{key:"render",value:function(){this.context.drawImage(this.board.canvas,0,0,this.board.canvas.width,this.board.canvas.height,0,0,this.context.canvas.width,this.context.canvas.height)}}])&&t(i.prototype,r),e}();function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}var s=function(){function t(){r(this,t),this.left=new a,this.right=new a,this.jump=new a}return o(t,[{key:"keyPressed",value:function(t,e){var i;i="keydown"===t,"KeyW"===e?this.jump.getInput(i):"KeyD"===e?this.right.getInput(i):"KeyA"===e&&this.left.getInput(i)}}]),t}(),a=function(){function t(){r(this,t),this.pressed=!1,this.down=!1}return o(t,[{key:"getInput",value:function(t){this.down!=t&&(this.pressed=t),this.down=t}}]),t}();function l(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var c=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.color="blue",this.height=14,this.width=14,this.velX=0,this.velY=0,this.jumping=!0,this.posX=20,this.posY=100,this.lastFrameX=this.posX,this.lastFrameY=this.posY,this.playerSprite=new Image,this.playerSprite.src="src/images/charc.png",this.direction="left",this.spriteFrame=0,this.jumpSfx=new Audio("src/sounds/jump.wav"),this.frameSet={right:[[176,32],[160,32],[144,32]],left:[[176,16],[160,16],[144,16]]}}var e,i;return e=t,(i=[{key:"jump",value:function(t){this.jumping||(t?(this.jumping=!0,this.velY-=20):(this.jumpSfx.play(),this.jumping=!0,this.velY-=20))}},{key:"moveLeft",value:function(){this.spriteFrame+=1,2===this.spriteFrame&&(this.spriteFrame=0),this.direction="left",this.velX-=.5}},{key:"moveRight",value:function(){this.direction="right",this.spriteFrame+=1,2===this.spriteFrame&&(this.spriteFrame=0),this.velX+=.5}},{key:"updatePlayer",value:function(){this.lastFrameX=this.posX,this.lastFrameY=this.posY,this.posX+=this.velX,this.posY+=this.velY}}])&&l(e.prototype,i),t}(),u=[["src/images/castle-tileset.png",16,8,[29,29,29,25,29,25,29,25,29,74,29,29,29,25,29,25,29,25,29,82,29,29,29,61,62,62,62,62,62,63,1,2,25,29,25,29,25,29,25,29,1,2,29,29,29,29,29,29,29,29,61,62,62,62,62,62,63,29,29,29,29,6,29,29,29,29,29,29,29,29,29,14,29,29,29,29,29,29,29,57,25,22,25,29,25,29,25,25,57,57,29,25,29,25,29,25,25,57,57,57,61,62,62,62,62,62,62,62,62,63],[0,0,0,0,0,0,0,0,0,20,0,0,0,0,0,0,0,0,0,20,0,0,0,5,5,5,5,5,5,5,3,3,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,0,5,5,5,5,5,5,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,9,0,0,1,1,1,1,1,1,1,1,1,1],10,11,20,100],["src/images/castle-tileset.png",16,8,[1,29,29,29,29,29,29,29,29,29,29,39,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,1,1,29,29,29,29,29,29,29,29,29,29,47,29,29,39,61,62,62,62,62,62,62,62,62,62,62,62,63,29,1,61,62,62,62,63,29,29,29,29,29,29,47,1,29,47,29,29,29,29,29,29,29,29,29,29,29,29,29,29,1,29,29,29,29,29,29,29,29,29,29,29,47,29,29,47,29,61,62,62,62,62,62,62,62,62,62,62,62,63,6,29,29,29,29,29,29,29,29,29,29,29,47,29,1,47,29,47,29,29,29,29,29,29,29,29,29,29,29,29,14,29,29,29,29,29,29,29,57,29,29,29,47,29,29,47,29,47,29,29,29,29,29,29,29,29,29,29,29,29,22,29,29,29,29,29,29,57,57,57,29,29,55,1,29,47,29,61,62,62,62,62,62,62,62,62,62,62,62,62,63,57,29,29,29,29,57,57,57,57,57,29,29,29,29,55,29,29,29,29,29,29,29,29,29,29,29,29,29,29,82,61,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,63,40,41,40,41,40,41,40,41,40,41,40,41,40,41,40,41,40,41,40,41,40,41,40,41,40,41,40,41,40,41],[0,0,0,0,0,0,0,0,0,0,0,10,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,0,0,0,0,0,0,0,0,0,0,0,10,0,0,15,5,5,5,5,5,5,5,5,5,5,5,5,5,0,8,1,1,1,1,5,0,0,0,0,0,0,10,15,0,10,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,0,0,0,0,0,0,0,0,0,0,0,10,0,0,10,0,5,5,5,5,5,5,5,5,5,5,5,5,5,8,0,0,0,0,0,0,0,0,0,0,0,10,0,5,10,0,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,10,0,0,10,0,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,14,7,0,10,0,5,5,5,5,5,5,5,5,5,5,5,5,5,5,0,0,0,0,0,1,1,1,1,1,0,0,0,0,10,0,0,0,0,0,0,0,0,0,0,0,0,0,0,20,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],30,10,20,100],["src/images/tiles.png",16,17,[0,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,2,21,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,21,21,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,21,21,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,68,69,69,69,69,69,69,69,2,99,21,21,99,99,99,99,99,99,99,72,99,99,99,99,99,99,99,72,99,99,99,99,99,99,99,99,99,99,21,99,21,21,99,99,99,0,1,2,99,99,99,99,99,72,99,99,99,99,99,99,99,99,99,99,99,99,99,99,21,99,21,38,72,99,99,17,18,19,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,21,99,21,99,99,99,99,34,35,36,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,21,99,21,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,21,99,21,0,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,2,21,99,21],[15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,15,15,15,15,15,15,15,15,0,15,15,0,0,0,0,0,0,0,15,0,0,0,0,0,0,0,15,0,0,0,0,0,0,0,0,0,0,15,0,15,15,0,0,0,9,1,3,0,0,0,0,0,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,0,15,15,15,0,0,8,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,0,15,0,0,0,0,12,5,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,0,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,0,15,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,15,20,15],30,10,20,100],["src/images/tiles.png",16,17,[21,99,21,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,2,21,99,21,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,21,21,99,21,99,99,99,99,99,4,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,21,21,99,21,99,99,72,99,0,19,99,99,0,2,99,99,99,0,2,99,99,99,99,99,99,99,99,0,2,99,21,21,99,21,99,99,99,99,17,19,99,99,17,19,99,99,99,17,19,99,99,99,99,99,99,99,99,17,19,99,21,21,99,21,99,99,99,99,17,19,99,99,17,19,99,99,99,17,19,99,99,99,68,70,99,99,99,17,19,99,21,21,99,38,72,99,99,99,17,19,99,99,17,19,99,99,99,17,19,99,99,99,99,99,99,99,99,17,19,99,21,21,99,99,99,99,99,99,17,19,99,99,17,19,99,99,99,17,19,99,99,99,99,99,99,99,99,17,19,99,21,21,99,99,99,99,99,99,17,19,99,99,17,19,99,99,99,17,19,99,99,99,99,99,99,99,99,17,19,99,21,34,69,69,69,69,69,2,17,19,32,33,17,19,32,33,32,17,19,32,33,32,33,32,33,32,33,17,19,99,21],[15,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,15,0,15,0,0,0,0,0,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,15,0,15,0,0,15,0,15,15,0,0,15,15,0,0,0,15,15,0,0,0,0,0,0,0,0,15,15,0,15,15,0,15,0,0,0,0,15,15,0,0,15,15,0,0,0,15,15,0,0,0,0,0,0,0,0,15,15,0,15,15,0,15,0,0,0,0,15,15,0,0,15,15,0,0,0,15,15,0,0,0,15,15,0,0,0,15,15,0,15,15,0,15,15,0,0,0,15,15,0,0,15,15,0,0,0,15,15,0,0,0,0,0,0,0,0,15,15,0,15,15,0,0,0,0,0,0,15,15,0,0,15,15,0,0,0,15,15,0,0,0,0,0,0,0,0,15,15,0,15,15,0,0,0,0,0,0,15,15,0,0,15,15,0,0,0,15,15,0,0,0,0,0,0,0,0,15,15,0,15,1,1,1,1,1,1,1,15,15,21,21,15,15,21,21,21,15,15,21,21,21,21,21,21,21,21,15,15,20,15],30,10,17,17],["src/images/tiles.png",16,17,[21,99,99,99,99,21,99,99,99,21,21,99,99,99,99,21,99,99,99,21,21,99,99,99,72,21,99,99,99,21,21,99,99,72,99,21,99,99,99,21,21,99,72,99,99,21,99,32,33,21,21,99,99,99,99,21,99,16,15,21,21,99,99,99,99,21,99,99,99,21,21,72,99,99,99,21,99,99,99,21,21,99,99,99,99,21,99,99,99,21,21,99,99,99,99,21,99,99,99,21,21,99,99,99,72,21,99,99,99,21,21,99,99,99,99,21,99,99,99,21,21,99,99,99,99,21,99,99,99,21,21,72,99,99,99,21,99,99,99,21,21,99,99,99,99,21,99,99,99,21,21,99,99,99,99,21,99,99,99,21,21,99,99,99,72,21,99,99,99,21,21,99,99,99,99,38,99,99,99,21,21,99,99,99,99,99,99,99,99,21,34,69,69,69,69,69,69,69,69,36],[15,20,20,20,20,15,99,99,99,15,15,99,99,99,99,15,99,99,99,15,15,99,99,99,15,15,99,99,99,15,15,99,99,15,99,15,99,99,99,15,15,99,15,99,99,15,99,99,21,15,15,99,99,99,99,15,99,21,21,15,15,99,99,99,99,15,99,99,99,15,15,15,99,99,99,15,99,99,99,15,15,99,99,99,99,15,99,99,99,15,15,99,99,99,99,15,99,99,99,15,15,99,99,99,15,15,99,99,99,15,15,99,99,99,99,15,99,99,99,15,15,99,99,99,99,15,99,99,99,15,15,15,99,99,99,15,99,99,99,15,15,99,99,99,99,15,99,99,99,15,15,99,99,99,99,15,99,99,99,15,15,99,99,99,15,15,99,99,99,15,15,99,99,99,99,38,99,99,99,15,15,99,99,99,99,99,99,99,99,15,15,15,15,15,15,15,15,15,15,15],10,20,120,1],["src/images/castle-tileset.png",16,8,[29,29,29,25,29,25,29,25,29,29,29,29,29,25,29,25,29,25,29,29,29,29,29,61,62,62,62,62,62,63,1,2,25,29,25,29,25,29,25,29,1,2,29,29,29,29,29,29,29,29,61,62,62,62,62,62,63,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,57,25,29,25,29,25,29,25,25,57,57,30,31,29,25,29,25,25,57,57,57,61,62,62,62,62,62,62,62,62,63],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,5,5,5,5,5,5,3,3,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,0,5,5,5,5,5,5,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,9,0,22,22,0,0,0,0,0,9,0,0,1,1,1,1,1,1,1,1,1,1],10,11,130,10]],h=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.tilesheet=new Image,this.tilesheet.src=u[e][0],this.block=u[e][1],this.col=u[e][2],this.map=u[e][3],this.collisionMap=u[e][4],this.gameCol=u[e][5],this.gameRow=u[e][6],this.playerSpawnX=u[e][7],this.playerSpawnY=u[e][8]};function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var v=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;f(this,t),this.friction=.9,this.gravity=2,this.player=new c,this.level||(this.level=0),this.level+=e,this.levelOne=new h(this.level),this.player.posX=this.levelOne.playerSpawnX,this.player.posY=this.levelOne.playerSpawnY,this.col=this.levelOne.gameCol,this.row=this.levelOne.gameRow,this.tileSize=16,this.triggerDoor=!1,this.height=this.tileSize*this.row,this.width=this.tileSize*this.col,this.map=this.levelOne.map,this.collision_map=this.levelOne.collisionMap,this.restart=!1,this.gameWin=!1}var e,i;return e=t,(i=[{key:"borderCollision",value:function(t){t.posX<0?(t.velX=0,t.posX=0):t.posX+t.width>this.width&&(t.velX=0,t.posX=this.width-t.width),t.posY<0?(t.jumping=!0,t.velY=0,t.posY=0):t.posY+t.height>this.height&&(t.jumping=!1,t.velY=0,t.posY=this.height-t.height)}},{key:"collideTile",value:function(t){var e=Math.floor(t.posY/this.tileSize)*this.col+Math.floor(t.posX/this.tileSize);this.collide(this.collision_map[e],t,Math.floor(t.posX/this.tileSize)*this.tileSize,Math.floor(t.posY/this.tileSize)*this.tileSize);var i=Math.floor(t.posY/this.tileSize)*this.col+Math.floor((t.posX+t.width)/this.tileSize);this.collide(this.collision_map[i],t,Math.floor((t.posX+t.width)/this.tileSize)*this.tileSize,Math.floor(t.posY/this.tileSize)*this.tileSize);var r=Math.floor((t.posY+t.height)/this.tileSize)*this.col+Math.floor(t.posX/this.tileSize);this.collide(this.collision_map[r],t,Math.floor(t.posX/this.tileSize)*this.tileSize,Math.floor((t.posY+t.height)/this.tileSize)*this.tileSize);var n=Math.floor((t.posY+t.height)/this.tileSize)*this.col+Math.floor((t.posX+t.width)/this.tileSize);this.collide(this.collision_map[n],t,Math.floor((t.posX+t.width)/this.tileSize)*this.tileSize,Math.floor((t.posY+t.height)/this.tileSize)*this.tileSize);var o=Math.floor((t.posY+t.height/2)/this.tileSize)*this.col+Math.floor((t.posX+t.width/2)/this.tileSize);this.collide(this.collision_map[o],t,Math.floor((t.posX+t.width)/this.tileSize)*this.tileSize,Math.floor((t.posY+t.height)/this.tileSize)*this.tileSize,!0)}},{key:"collide",value:function(t,e,i,r,n){switch(t){case 1:this.collideTop(e,r);break;case 2:this.collideRight(e,i+this.tileSize);break;case 3:if(this.collideTop(e,r))return;this.collideRight(e,i+this.tileSize);break;case 4:this.collideBot(e,r+this.tileSize);break;case 5:if(this.collideTop(e,r))return;this.collideBot(e,r+this.tileSize);break;case 6:if(this.collideRight(e,i+this.tileSize))return;this.collideBot(e,r+this.tileSize);break;case 7:if(this.collideTop(e,r))return;if(this.collideRight(e,i+this.tileSize))return;this.collideBot(e,r+this.tileSize);break;case 8:this.collideLeft(e,i);break;case 9:if(this.collideTop(e,r))return;this.collideLeft(e,i);break;case 10:if(this.collideLeft(e,i))return;this.collideRight(e,i+this.tileSize);break;case 11:if(this.collideTop(e,r))return;if(this.collideLeft(e,i))return;this.collideRight(e,i+this.tileSize);break;case 12:if(this.collideLeft(e,i))return;this.collideBot(e,r+this.tileSize);break;case 13:if(this.collideTop(e,r))return;if(this.collideLeft(e,i))return;this.collideBot(e,r+this.tileSize);break;case 14:if(this.collideLeft(e,i))return;if(this.collideRight(e,i))return;this.collideBot(e,r+this.tileSize);break;case 15:if(this.collideTop(e,r))return;if(this.collideLeft(e,i))return;if(this.collideRight(e,i+this.tileSize))return;this.collideBot(e,r+this.tileSize);break;case 20:if(n){this.level+=1,this.levelOne=new h(this.level),this.triggerDoor=!0,this.player.posX-=10;break}case 21:n&&(this.restart=!0);case 22:n&&(this.gameWin=!0)}}},{key:"collideBot",value:function(t,e){return t.posY<e&&t.lastFrameY>=e&&(t.posY=e,t.velY=0,!0)}},{key:"collideLeft",value:function(t,e){return t.posX+t.width>e&&t.lastFrameX+t.width<=e&&(t.posX=e-t.width-.01,t.velX=0,!0)}},{key:"collideRight",value:function(t,e){return t.posX<e&&t.lastFrameX>=e&&(t.posX=e,t.velX=0,!0)}},{key:"collideTop",value:function(t,e){return t.posY+t.height>e&&t.lastFrameY+t.height<=e&&(t.posY=e-t.height-.01,t.velY=0,t.jumping=!1,!0)}},{key:"physics",value:function(){this.player.velY+=this.gravity,this.player.updatePlayer(),this.player.velX*=this.friction,this.player.velY*=this.friction,this.borderCollision(this.player),this.collideTile(this.player)}},{key:"update",value:function(){this.physics()}}])&&p(e.prototype,i),t}();function d(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var y=function(){function t(e,i,r){var n,o,s=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o=function(t){s.paused||s.run(t)},(n="handleRun")in this?Object.defineProperty(this,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):this[n]=o,this.fps=e,this.updateFunc=i,this.renderFunc=r,this.afr=void 0,this.updated=!1,this.timeTilUpdate=0,this.timeElapsed=0,this.paused=!1,this.muted=!1,this.bg=new Audio("src/sounds/bg.mp3"),this.bg.volume=.25,this.characPausedXY=[0,0],this.end=!1}var e,i;return e=t,(i=[{key:"run",value:function(t){for(this.timeTilUpdate+=t-this.timeElapsed,this.timeElapsed=t;this.timeTilUpdate>=this.fps&&!this.paused;)this.timeTilUpdate-=this.fps,this.updateFunc(),this.renderFunc();requestAnimationFrame(this.handleRun)}},{key:"pause",value:function(t){this.paused=!0,void 0===t&&(t=!1),this.end=t,!0!==t&&document.getElementById("pause").removeAttribute("class")}},{key:"unpause",value:function(){0==this.end&&(this.paused=!1,document.getElementById("pause").setAttribute("class","hidden"),this.start())}},{key:"mute",value:function(){this.muted=!0,this.bg.volume=0}},{key:"unmute",value:function(){this.muted=!1,this.bg.volume=.25}},{key:"start",value:function(){this.timeTilUpdate=this.fps,this.timeElapsed=window.performance.now(),this.afr=window.requestAnimationFrame(this.handleRun)}},{key:"stop",value:function(){window.cancelAnimationFrame(this.animation_frame_request)}}])&&d(e.prototype,i),t}();document.addEventListener("DOMContentLoaded",(function(){var t=function(t){a.bg.play(),o.keyPressed(t.type,t.code)},i=function(){n.fill("#241b18"),n.drawMap(r,r.col),n.drawPlayer(r.player),n.render()},r=new v(0),n=new e(document.querySelector("#game"),3*r.height,3*r.width),o=new s,a=new y(40,(function(){!0===r.restart&&(r=new v(r.level),(n=new e(document.querySelector("#game"),3*r.height,3*r.width)).board.canvas.height=r.height,n.board.canvas.width=r.width),r.gameWin&&(a.pause(!0),a.stop(),document.getElementById("win").removeAttribute("class")),a.paused||(o.left.pressed&&r.player.moveLeft(),o.right.pressed&&r.player.moveRight(),o.jump.pressed&&(r.player.jump(a.muted),r.player.jumping=!0),!0===r.triggerDoor&&(r=new v(r.level),(n=new e(document.querySelector("#game"),3*r.height,3*r.width)).board.canvas.height=r.height,n.board.canvas.width=r.width),r.update())}),i);n.board.canvas.height=r.height,n.board.canvas.width=r.width,i(),a.paused||(window.addEventListener("keydown",t),window.addEventListener("keyup",t),window.addEventListener("keypress",(function(t){"KeyP"!==t.code||a.paused?"KeyP"===t.code&&a.paused&&a.unpause():a.pause(),"KeyM"!==t.code||a.muted?"KeyM"===t.code&&a.muted&&a.unmute():a.mute()}))),a.start()}))})()})();
//# sourceMappingURL=main.js.map