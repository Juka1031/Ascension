(()=>{var e={3099:e=>{e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},1223:(e,t,i)=>{var r=i(5112),n=i(30),o=i(3070),s=r("unscopables"),a=Array.prototype;null==a[s]&&o.f(a,s,{configurable:!0,value:n(null)}),e.exports=function(e){a[s][e]=!0}},9670:(e,t,i)=>{var r=i(111);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},1285:(e,t,i)=>{"use strict";var r=i(7908),n=i(1400),o=i(7466);e.exports=function(e){for(var t=r(this),i=o(t.length),s=arguments.length,a=n(s>1?arguments[1]:void 0,i),l=s>2?arguments[2]:void 0,c=void 0===l?i:n(l,i);c>a;)t[a++]=e;return t}},1318:(e,t,i)=>{var r=i(5656),n=i(7466),o=i(1400),s=function(e){return function(t,i,s){var a,l=r(t),c=n(l.length),u=o(s,c);if(e&&i!=i){for(;c>u;)if((a=l[u++])!=a)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===i)return e||u||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},2092:(e,t,i)=>{var r=i(9974),n=i(8361),o=i(7908),s=i(7466),a=i(5417),l=[].push,c=function(e){var t=1==e,i=2==e,c=3==e,u=4==e,h=6==e,f=7==e,p=5==e||h;return function(d,v,y,m){for(var g,b,w=o(d),S=n(w),x=r(v,y,3),k=s(S.length),O=0,j=m||a,z=t?j(d,k):i||f?j(d,0):void 0;k>O;O++)if((p||O in S)&&(b=x(g=S[O],O,w),e))if(t)z[O]=b;else if(b)switch(e){case 3:return!0;case 5:return g;case 6:return O;case 2:l.call(z,g)}else switch(e){case 4:return!1;case 7:l.call(z,g)}return h?-1:c||u?u:z}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterReject:c(7)}},1194:(e,t,i)=>{var r=i(7293),n=i(5112),o=i(7392),s=n("species");e.exports=function(e){return o>=51||!r((function(){var t=[];return(t.constructor={})[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},7475:(e,t,i)=>{var r=i(111),n=i(3157),o=i(5112)("species");e.exports=function(e){var t;return n(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!n(t.prototype)?r(t)&&null===(t=t[o])&&(t=void 0):t=void 0),void 0===t?Array:t}},5417:(e,t,i)=>{var r=i(7475);e.exports=function(e,t){return new(r(e))(0===t?0:t)}},4326:e=>{var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},9920:(e,t,i)=>{var r=i(6656),n=i(3887),o=i(1236),s=i(3070);e.exports=function(e,t){for(var i=n(t),a=s.f,l=o.f,c=0;c<i.length;c++){var u=i[c];r(e,u)||a(e,u,l(t,u))}}},8880:(e,t,i)=>{var r=i(9781),n=i(3070),o=i(9114);e.exports=r?function(e,t,i){return n.f(e,t,o(1,i))}:function(e,t,i){return e[t]=i,e}},9114:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},9781:(e,t,i)=>{var r=i(7293);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:(e,t,i)=>{var r=i(7854),n=i(111),o=r.document,s=n(o)&&n(o.createElement);e.exports=function(e){return s?o.createElement(e):{}}},8113:(e,t,i)=>{var r=i(5005);e.exports=r("navigator","userAgent")||""},7392:(e,t,i)=>{var r,n,o=i(7854),s=i(8113),a=o.process,l=o.Deno,c=a&&a.versions||l&&l.version,u=c&&c.v8;u?n=(r=u.split("."))[0]<4?1:r[0]+r[1]:s&&(!(r=s.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/))&&(n=r[1]),e.exports=n&&+n},748:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:(e,t,i)=>{var r=i(7854),n=i(1236).f,o=i(8880),s=i(1320),a=i(3505),l=i(9920),c=i(4705);e.exports=function(e,t){var i,u,h,f,p,d=e.target,v=e.global,y=e.stat;if(i=v?r:y?r[d]||a(d,{}):(r[d]||{}).prototype)for(u in t){if(f=t[u],h=e.noTargetGet?(p=n(i,u))&&p.value:i[u],!c(v?u:d+(y?".":"#")+u,e.forced)&&void 0!==h){if(typeof f==typeof h)continue;l(f,h)}(e.sham||h&&h.sham)&&o(f,"sham",!0),s(i,u,f,e)}}},7293:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},9974:(e,t,i)=>{var r=i(3099);e.exports=function(e,t,i){if(r(e),void 0===t)return e;switch(i){case 0:return function(){return e.call(t)};case 1:return function(i){return e.call(t,i)};case 2:return function(i,r){return e.call(t,i,r)};case 3:return function(i,r,n){return e.call(t,i,r,n)}}return function(){return e.apply(t,arguments)}}},5005:(e,t,i)=>{var r=i(7854),n=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?n(r[e]):r[e]&&r[e][t]}},7854:e=>{var t=function(e){return e&&e.Math==Math&&e};e.exports=t("object"==typeof globalThis&&globalThis)||t("object"==typeof window&&window)||t("object"==typeof self&&self)||t("object"==typeof global&&global)||function(){return this}()||Function("return this")()},6656:(e,t,i)=>{var r=i(7908),n={}.hasOwnProperty;e.exports=Object.hasOwn||function(e,t){return n.call(r(e),t)}},3501:e=>{e.exports={}},490:(e,t,i)=>{var r=i(5005);e.exports=r("document","documentElement")},4664:(e,t,i)=>{var r=i(9781),n=i(7293),o=i(317);e.exports=!r&&!n((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},8361:(e,t,i)=>{var r=i(7293),n=i(4326),o="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==n(e)?o.call(e,""):Object(e)}:Object},2581:(e,t,i)=>{var r=i(5465),n=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return n.call(e)}),e.exports=r.inspectSource},9909:(e,t,i)=>{var r,n,o,s=i(8536),a=i(7854),l=i(111),c=i(8880),u=i(6656),h=i(5465),f=i(6200),p=i(3501),d="Object already initialized",v=a.WeakMap;if(s||h.state){var y=h.state||(h.state=new v),m=y.get,g=y.has,b=y.set;r=function(e,t){if(g.call(y,e))throw new TypeError(d);return t.facade=e,b.call(y,e,t),t},n=function(e){return m.call(y,e)||{}},o=function(e){return g.call(y,e)}}else{var w=f("state");p[w]=!0,r=function(e,t){if(u(e,w))throw new TypeError(d);return t.facade=e,c(e,w,t),t},n=function(e){return u(e,w)?e[w]:{}},o=function(e){return u(e,w)}}e.exports={set:r,get:n,has:o,enforce:function(e){return o(e)?n(e):r(e,{})},getterFor:function(e){return function(t){var i;if(!l(t)||(i=n(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return i}}}},3157:(e,t,i)=>{var r=i(4326);e.exports=Array.isArray||function(e){return"Array"==r(e)}},4705:(e,t,i)=>{var r=i(7293),n=/#|\.prototype\./,o=function(e,t){var i=a[s(e)];return i==c||i!=l&&("function"==typeof t?r(t):!!t)},s=o.normalize=function(e){return String(e).replace(n,".").toLowerCase()},a=o.data={},l=o.NATIVE="N",c=o.POLYFILL="P";e.exports=o},111:e=>{e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},1913:e=>{e.exports=!1},2190:(e,t,i)=>{var r=i(5005),n=i(3307);e.exports=n?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return"function"==typeof t&&Object(e)instanceof t}},133:(e,t,i)=>{var r=i(7392),n=i(7293);e.exports=!!Object.getOwnPropertySymbols&&!n((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},8536:(e,t,i)=>{var r=i(7854),n=i(2581),o=r.WeakMap;e.exports="function"==typeof o&&/native code/.test(n(o))},30:(e,t,i)=>{var r,n=i(9670),o=i(6048),s=i(748),a=i(3501),l=i(490),c=i(317),u=i(6200)("IE_PROTO"),h=function(){},f=function(e){return"<script>"+e+"<\/script>"},p=function(e){e.write(f("")),e.close();var t=e.parentWindow.Object;return e=null,t},d=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}d=document.domain&&r?p(r):function(){var e,t=c("iframe");if(t.style)return t.style.display="none",l.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(f("document.F=Object")),e.close(),e.F}()||p(r);for(var e=s.length;e--;)delete d.prototype[s[e]];return d()};a[u]=!0,e.exports=Object.create||function(e,t){var i;return null!==e?(h.prototype=n(e),i=new h,h.prototype=null,i[u]=e):i=d(),void 0===t?i:o(i,t)}},6048:(e,t,i)=>{var r=i(9781),n=i(3070),o=i(9670),s=i(1956);e.exports=r?Object.defineProperties:function(e,t){o(e);for(var i,r=s(t),a=r.length,l=0;a>l;)n.f(e,i=r[l++],t[i]);return e}},3070:(e,t,i)=>{var r=i(9781),n=i(4664),o=i(9670),s=i(4948),a=Object.defineProperty;t.f=r?a:function(e,t,i){if(o(e),t=s(t),o(i),n)try{return a(e,t,i)}catch(e){}if("get"in i||"set"in i)throw TypeError("Accessors not supported");return"value"in i&&(e[t]=i.value),e}},1236:(e,t,i)=>{var r=i(9781),n=i(5296),o=i(9114),s=i(5656),a=i(4948),l=i(6656),c=i(4664),u=Object.getOwnPropertyDescriptor;t.f=r?u:function(e,t){if(e=s(e),t=a(t),c)try{return u(e,t)}catch(e){}if(l(e,t))return o(!n.f.call(e,t),e[t])}},8006:(e,t,i)=>{var r=i(6324),n=i(748).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,n)}},5181:(e,t)=>{t.f=Object.getOwnPropertySymbols},6324:(e,t,i)=>{var r=i(6656),n=i(5656),o=i(1318).indexOf,s=i(3501);e.exports=function(e,t){var i,a=n(e),l=0,c=[];for(i in a)!r(s,i)&&r(a,i)&&c.push(i);for(;t.length>l;)r(a,i=t[l++])&&(~o(c,i)||c.push(i));return c}},1956:(e,t,i)=>{var r=i(6324),n=i(748);e.exports=Object.keys||function(e){return r(e,n)}},5296:(e,t)=>{"use strict";var i={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,n=r&&!i.call({1:2},1);t.f=n?function(e){var t=r(this,e);return!!t&&t.enumerable}:i},2140:(e,t,i)=>{var r=i(111);e.exports=function(e,t){var i,n;if("string"===t&&"function"==typeof(i=e.toString)&&!r(n=i.call(e)))return n;if("function"==typeof(i=e.valueOf)&&!r(n=i.call(e)))return n;if("string"!==t&&"function"==typeof(i=e.toString)&&!r(n=i.call(e)))return n;throw TypeError("Can't convert object to primitive value")}},3887:(e,t,i)=>{var r=i(5005),n=i(8006),o=i(5181),s=i(9670);e.exports=r("Reflect","ownKeys")||function(e){var t=n.f(s(e)),i=o.f;return i?t.concat(i(e)):t}},1320:(e,t,i)=>{var r=i(7854),n=i(8880),o=i(6656),s=i(3505),a=i(2581),l=i(9909),c=l.get,u=l.enforce,h=String(String).split("String");(e.exports=function(e,t,i,a){var l,c=!!a&&!!a.unsafe,f=!!a&&!!a.enumerable,p=!!a&&!!a.noTargetGet;"function"==typeof i&&("string"!=typeof t||o(i,"name")||n(i,"name",t),(l=u(i)).source||(l.source=h.join("string"==typeof t?t:""))),e!==r?(c?!p&&e[t]&&(f=!0):delete e[t],f?e[t]=i:n(e,t,i)):f?e[t]=i:s(t,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||a(this)}))},4488:e=>{e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},3505:(e,t,i)=>{var r=i(7854);e.exports=function(e,t){try{Object.defineProperty(r,e,{value:t,configurable:!0,writable:!0})}catch(i){r[e]=t}return t}},6200:(e,t,i)=>{var r=i(2309),n=i(9711),o=r("keys");e.exports=function(e){return o[e]||(o[e]=n(e))}},5465:(e,t,i)=>{var r=i(7854),n=i(3505),o="__core-js_shared__",s=r[o]||n(o,{});e.exports=s},2309:(e,t,i)=>{var r=i(1913),n=i(5465);(e.exports=function(e,t){return n[e]||(n[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.16.1",mode:r?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},1400:(e,t,i)=>{var r=i(9958),n=Math.max,o=Math.min;e.exports=function(e,t){var i=r(e);return i<0?n(i+t,0):o(i,t)}},5656:(e,t,i)=>{var r=i(8361),n=i(4488);e.exports=function(e){return r(n(e))}},9958:e=>{var t=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:t)(e)}},7466:(e,t,i)=>{var r=i(9958),n=Math.min;e.exports=function(e){return e>0?n(r(e),9007199254740991):0}},7908:(e,t,i)=>{var r=i(4488);e.exports=function(e){return Object(r(e))}},7593:(e,t,i)=>{var r=i(111),n=i(2190),o=i(2140),s=i(5112)("toPrimitive");e.exports=function(e,t){if(!r(e)||n(e))return e;var i,a=e[s];if(void 0!==a){if(void 0===t&&(t="default"),i=a.call(e,t),!r(i)||n(i))return i;throw TypeError("Can't convert object to primitive value")}return void 0===t&&(t="number"),o(e,t)}},4948:(e,t,i)=>{var r=i(7593),n=i(2190);e.exports=function(e){var t=r(e,"string");return n(t)?t:String(t)}},9711:e=>{var t=0,i=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++t+i).toString(36)}},3307:(e,t,i)=>{var r=i(133);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5112:(e,t,i)=>{var r=i(7854),n=i(2309),o=i(6656),s=i(9711),a=i(133),l=i(3307),c=n("wks"),u=r.Symbol,h=l?u:u&&u.withoutSetter||s;e.exports=function(e){return o(c,e)&&(a||"string"==typeof c[e])||(a&&o(u,e)?c[e]=u[e]:c[e]=h("Symbol."+e)),c[e]}},3290:(e,t,i)=>{var r=i(2109),n=i(1285),o=i(1223);r({target:"Array",proto:!0},{fill:n}),o("fill")},1249:(e,t,i)=>{"use strict";var r=i(2109),n=i(2092).map;r({target:"Array",proto:!0,forced:!i(1194)("map")},{map:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})}},t={};function i(r){var n=t[r];if(void 0!==n)return n.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,i),o.exports}(()=>{"use strict";function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}i(3290),i(1249);var t=function(){function t(e,i,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.board=document.createElement("canvas").getContext("2d"),this.context=e.getContext("2d");var o=e.getContext("2d");e.height=i,e.width=r,o.fillRect(0,0,e.width,e.height),n&&o.clearRect(0,0,e.width,e.height)}var i,r;return i=t,(r=[{key:"fill",value:function(e){this.board.fillRect(0,0,this.board.canvas.width,this.board.canvas.height)}},{key:"drawPlayer",value:function(e){this.board.drawImage(e.playerSprite,e.frameSet[e.direction][e.spriteFrame][0],e.frameSet[e.direction][e.spriteFrame][1],16,16,e.posX,e.posY,e.width,e.height)}},{key:"drawLevel",value:function(){}},{key:"drawMap",value:function(e,t){for(var i=e.map.length-1;i>-1;--i){var r=e.map[i],n=r%e.levelOne.col*e.levelOne.block,o=Math.floor(r/e.levelOne.col)*e.levelOne.block,s=i%t*e.levelOne.block,a=Math.floor(i/t)*e.levelOne.block;this.board.drawImage(e.levelOne.tilesheet,n,o,e.levelOne.block,e.levelOne.block,s,a,e.levelOne.block,e.levelOne.block)}}},{key:"render",value:function(){this.context.drawImage(this.board.canvas,0,0,this.board.canvas.width,this.board.canvas.height,0,0,this.context.canvas.width,this.context.canvas.height)}}])&&e(i.prototype,r),t}();function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}var s=function(){function e(){r(this,e),this.left=new a,this.right=new a,this.jump=new a}return o(e,[{key:"keyPressed",value:function(e,t){var i;if(i="keydown"===e,"Space"===t)this.jump.getInput(i);else if("KeyD"===t)this.right.getInput(i);else if("KeyA"===t)this.left.getInput(i);else if("Enter"===t)return!0}}]),e}(),a=function(){function e(){r(this,e),this.pressed=!1,this.down=!1}return o(e,[{key:"getInput",value:function(e){this.down!=e&&(this.pressed=e),this.down=e}}]),e}();function l(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.color="blue",this.height=14,this.width=14,this.velX=0,this.velY=0,this.jumping=!0,this.posX=20,this.posY=100,this.lastFrameX=this.posX,this.lastFrameY=this.posY,this.playerSprite=new Image,this.playerSprite.src="src/images/charc.png",this.direction="left",this.spriteFrame=0,this.jumpSfx=new Audio("src/sounds/jump.wav"),this.frameSet={right:[[176,32],[160,32],[144,32]],left:[[176,16],[160,16],[144,16]]}}var t,i;return t=e,(i=[{key:"jump",value:function(e){this.jumping||(e?(this.jumping=!0,this.velY-=20):(this.jumpSfx.play(),this.jumping=!0,this.velY-=20))}},{key:"moveLeft",value:function(){this.spriteFrame+=1,2===this.spriteFrame&&(this.spriteFrame=0),this.direction="left",this.velX-=.5}},{key:"moveRight",value:function(){this.direction="right",this.spriteFrame+=1,2===this.spriteFrame&&(this.spriteFrame=0),this.velX+=.5}},{key:"updatePlayer",value:function(){this.lastFrameX=this.posX,this.lastFrameY=this.posY,this.posX+=this.velX,this.posY+=this.velY}}])&&l(t.prototype,i),e}(),u=[["src/images/castle-tileset.png",16,8,[29,29,29,25,29,25,29,25,29,74,29,29,29,25,29,25,29,25,29,82,29,29,29,61,62,62,62,62,62,63,1,2,25,29,25,29,25,29,25,29,1,2,29,29,29,29,29,29,29,29,61,62,62,62,62,62,63,29,29,29,29,6,29,29,29,29,29,29,29,29,29,14,29,29,29,29,29,29,29,57,25,22,25,29,25,29,25,25,57,57,29,25,29,25,29,25,25,57,57,57,61,62,62,62,62,62,62,62,62,63],[0,0,0,0,0,0,0,0,0,20,0,0,0,0,0,0,0,0,0,20,0,0,0,5,5,5,5,5,5,5,3,3,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,0,5,5,5,5,5,5,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,9,0,0,1,1,1,1,1,1,1,1,1,1],10,11,20,100],["src/images/castle-tileset.png",16,8,[1,29,29,29,29,29,29,29,29,29,29,39,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,1,1,29,29,29,29,29,29,29,29,29,29,47,29,29,39,61,62,62,62,62,62,62,62,62,62,62,62,63,29,1,61,62,62,62,63,29,29,29,29,29,29,47,1,29,47,29,29,29,29,29,29,29,29,29,29,29,29,29,29,1,29,29,29,29,29,29,29,29,29,29,29,47,29,29,47,29,61,62,62,62,62,62,62,62,62,62,62,62,63,6,29,29,29,29,29,29,29,29,29,29,29,47,29,1,47,29,47,29,29,29,29,29,29,29,29,29,29,29,29,14,29,29,29,29,29,29,29,57,29,29,29,47,29,29,47,29,47,29,29,29,29,29,29,29,29,29,29,29,29,22,29,29,29,29,29,29,57,57,57,29,29,55,1,29,47,29,61,62,62,62,62,62,62,62,62,62,62,62,62,63,57,29,29,29,29,57,57,57,57,57,29,29,29,29,55,29,29,29,29,29,29,29,29,29,29,29,29,29,29,82,61,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,63,40,41,40,41,40,41,40,41,40,41,40,41,40,41,40,41,40,41,40,41,40,41,40,41,40,41,40,41,40,41],[0,0,0,0,0,0,0,0,0,0,0,10,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,0,0,0,0,0,0,0,0,0,0,0,10,0,0,15,5,5,5,5,5,5,5,5,5,5,5,5,5,0,8,1,1,1,1,5,0,0,0,0,0,0,10,15,0,10,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,0,0,0,0,0,0,0,0,0,0,0,10,0,0,10,0,5,5,5,5,5,5,5,5,5,5,5,5,5,8,0,0,0,0,0,0,0,0,0,0,0,10,0,5,10,0,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,10,0,0,10,0,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,14,7,0,10,0,5,5,5,5,5,5,5,5,5,5,5,5,5,5,0,0,0,0,0,1,1,1,1,1,0,0,0,0,10,0,0,0,0,0,0,0,0,0,0,0,0,0,0,20,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],30,10,20,100],["src/images/tiles.png",16,17,[0,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,2,21,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,21,21,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,21,21,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,68,69,69,69,69,69,69,69,2,99,21,21,99,99,99,99,99,99,99,72,99,99,99,99,99,99,99,72,99,99,99,99,99,99,99,99,99,99,21,99,21,21,99,99,99,0,1,2,99,99,99,99,99,72,99,99,99,99,99,99,99,99,99,99,99,99,99,99,21,99,21,38,72,99,99,17,18,19,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,21,99,21,99,99,99,99,34,35,36,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,21,99,21,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,21,99,21,0,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,2,21,99,21],[15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,15,15,15,15,15,15,15,15,0,15,15,0,0,0,0,0,0,0,15,0,0,0,0,0,0,0,15,0,0,0,0,0,0,0,0,0,0,15,0,15,15,0,0,0,9,1,3,0,0,0,0,0,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,0,15,15,15,0,0,8,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,0,15,0,0,0,0,12,5,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,0,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,0,15,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,15,20,15],30,10,20,100],["src/images/tiles.png",16,17,[21,99,21,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,2,21,99,21,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,21,21,99,21,99,99,99,99,99,4,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,21,21,99,21,99,99,72,99,0,19,99,99,0,2,99,99,99,0,2,99,99,99,99,99,99,99,99,0,2,99,21,21,99,21,99,99,99,99,17,19,99,99,17,19,99,99,99,17,19,99,99,99,99,99,99,99,99,17,19,99,21,21,99,21,99,99,99,99,17,19,99,99,17,19,99,99,99,17,19,99,99,99,68,70,99,99,99,17,19,99,21,21,99,38,72,99,99,99,17,19,99,99,17,19,99,99,99,17,19,99,99,99,99,99,99,99,99,17,19,99,21,21,99,99,99,99,99,99,17,19,99,99,17,19,99,99,99,17,19,99,99,99,99,99,99,99,99,17,19,99,21,21,99,99,99,99,99,99,17,19,99,99,17,19,99,99,99,17,19,99,99,99,99,99,99,99,99,17,19,99,21,34,69,69,69,69,69,2,17,19,32,33,17,19,32,33,32,17,19,32,33,32,33,32,33,32,33,17,19,99,21],[15,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,15,0,15,0,0,0,0,0,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,15,0,15,0,0,15,0,15,15,0,0,15,15,0,0,0,15,15,0,0,0,0,0,0,0,0,15,15,0,15,15,0,15,0,0,0,0,15,15,0,0,15,15,0,0,0,15,15,0,0,0,0,0,0,0,0,15,15,0,15,15,0,15,0,0,0,0,15,15,0,0,15,15,0,0,0,15,15,0,0,0,15,15,0,0,0,15,15,0,15,15,0,15,15,0,0,0,15,15,0,0,15,15,0,0,0,15,15,0,0,0,0,0,0,0,0,15,15,0,15,15,0,0,0,0,0,0,15,15,0,0,15,15,0,0,0,15,15,0,0,0,0,0,0,0,0,15,15,0,15,15,0,0,0,0,0,0,15,15,0,0,15,15,0,0,0,15,15,0,0,0,0,0,0,0,0,15,15,0,15,1,1,1,1,1,1,1,15,15,21,21,15,15,21,21,21,15,15,21,21,21,21,21,21,21,21,15,15,20,15],30,10,17,17],["src/images/tiles.png",16,17,[21,99,99,99,99,21,99,99,99,21,21,99,99,99,99,21,99,99,99,21,21,99,99,99,72,21,99,99,99,21,21,99,99,72,99,21,99,99,99,21,21,99,72,99,99,21,99,32,33,21,21,99,99,99,99,21,99,16,15,21,21,99,99,99,99,21,99,99,99,21,21,72,99,99,99,21,99,99,99,21,21,99,99,99,99,21,99,99,99,21,21,99,99,99,99,21,99,99,99,21,21,99,99,99,72,21,99,99,99,21,21,99,99,99,99,21,99,99,99,21,21,99,99,99,99,21,99,99,99,21,21,72,99,99,99,21,99,99,99,21,21,99,99,99,99,21,99,99,99,21,21,99,99,99,99,21,99,99,99,21,21,99,99,99,72,21,99,99,99,21,21,99,99,99,99,38,99,99,99,21,21,99,99,99,99,99,99,99,99,21,34,69,69,69,69,69,69,69,69,36],[15,20,20,20,20,15,99,99,99,15,15,99,99,99,99,15,99,99,99,15,15,99,99,99,15,15,99,99,99,15,15,99,99,15,99,15,99,99,99,15,15,99,15,99,99,15,99,99,21,15,15,99,99,99,99,15,99,21,21,15,15,99,99,99,99,15,99,99,99,15,15,15,99,99,99,15,99,99,99,15,15,99,99,99,99,15,99,99,99,15,15,99,99,99,99,15,99,99,99,15,15,99,99,99,15,15,99,99,99,15,15,99,99,99,99,15,99,99,99,15,15,99,99,99,99,15,99,99,99,15,15,15,99,99,99,15,99,99,99,15,15,99,99,99,99,15,99,99,99,15,15,99,99,99,99,15,99,99,99,15,15,99,99,99,15,15,99,99,99,15,15,99,99,99,99,38,99,99,99,15,15,99,99,99,99,99,99,99,99,15,15,15,15,15,15,15,15,15,15,15],10,20,120,1],["src/images/castle-tileset.png",16,8,[29,29,29,25,29,25,29,25,29,29,29,29,29,25,29,25,29,25,29,29,29,29,29,61,62,62,62,62,62,63,1,2,25,29,25,29,25,29,25,29,1,2,29,29,29,29,29,29,29,29,61,62,62,62,62,62,63,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,57,25,29,25,29,25,29,25,25,57,57,30,31,29,25,29,25,25,57,57,57,61,62,62,62,62,62,62,62,62,63],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,5,5,5,5,5,5,3,3,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,0,5,5,5,5,5,5,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,9,0,22,22,0,0,0,0,0,9,0,0,1,1,1,1,1,1,1,1,1,1],10,11,130,10]],h=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tilesheet=new Image,this.tilesheet.src=u[t][0],this.block=u[t][1],this.col=u[t][2],this.map=u[t][3],this.collisionMap=u[t][4],this.gameCol=u[t][5],this.gameRow=u[t][6],this.playerSpawnX=u[t][7],this.playerSpawnY=u[t][8]};function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;f(this,e),this.friction=.9,this.gravity=2,this.player=new c,this.level||(this.level=0),this.level+=t,this.levelOne=new h(this.level),this.player.posX=this.levelOne.playerSpawnX,this.player.posY=this.levelOne.playerSpawnY,this.col=this.levelOne.gameCol,this.row=this.levelOne.gameRow,this.tileSize=16,this.triggerDoor=!1,this.height=this.tileSize*this.row,this.width=this.tileSize*this.col,this.map=this.levelOne.map,this.collision_map=this.levelOne.collisionMap,this.restart=!1,this.gameWin=!1}var t,i;return t=e,(i=[{key:"borderCollision",value:function(e){e.posX<0?(e.velX=0,e.posX=0):e.posX+e.width>this.width&&(e.velX=0,e.posX=this.width-e.width),e.posY<0?(e.jumping=!0,e.velY=0,e.posY=0):e.posY+e.height>this.height&&(e.jumping=!1,e.velY=0,e.posY=this.height-e.height)}},{key:"collideTile",value:function(e){var t=Math.floor(e.posY/this.tileSize)*this.col+Math.floor(e.posX/this.tileSize);this.collide(this.collision_map[t],e,Math.floor(e.posX/this.tileSize)*this.tileSize,Math.floor(e.posY/this.tileSize)*this.tileSize);var i=Math.floor(e.posY/this.tileSize)*this.col+Math.floor((e.posX+e.width)/this.tileSize);this.collide(this.collision_map[i],e,Math.floor((e.posX+e.width)/this.tileSize)*this.tileSize,Math.floor(e.posY/this.tileSize)*this.tileSize);var r=Math.floor((e.posY+e.height)/this.tileSize)*this.col+Math.floor(e.posX/this.tileSize);this.collide(this.collision_map[r],e,Math.floor(e.posX/this.tileSize)*this.tileSize,Math.floor((e.posY+e.height)/this.tileSize)*this.tileSize);var n=Math.floor((e.posY+e.height)/this.tileSize)*this.col+Math.floor((e.posX+e.width)/this.tileSize);this.collide(this.collision_map[n],e,Math.floor((e.posX+e.width)/this.tileSize)*this.tileSize,Math.floor((e.posY+e.height)/this.tileSize)*this.tileSize);var o=Math.floor((e.posY+e.height/2)/this.tileSize)*this.col+Math.floor((e.posX+e.width/2)/this.tileSize);this.collide(this.collision_map[o],e,Math.floor((e.posX+e.width)/this.tileSize)*this.tileSize,Math.floor((e.posY+e.height)/this.tileSize)*this.tileSize,!0)}},{key:"collide",value:function(e,t,i,r,n){switch(e){case 1:this.collideTop(t,r);break;case 2:this.collideRight(t,i+this.tileSize);break;case 3:if(this.collideTop(t,r))return;this.collideRight(t,i+this.tileSize);break;case 4:this.collideBot(t,r+this.tileSize);break;case 5:if(this.collideTop(t,r))return;this.collideBot(t,r+this.tileSize);break;case 6:if(this.collideRight(t,i+this.tileSize))return;this.collideBot(t,r+this.tileSize);break;case 7:if(this.collideTop(t,r))return;if(this.collideRight(t,i+this.tileSize))return;this.collideBot(t,r+this.tileSize);break;case 8:this.collideLeft(t,i);break;case 9:if(this.collideTop(t,r))return;this.collideLeft(t,i);break;case 10:if(this.collideLeft(t,i))return;this.collideRight(t,i+this.tileSize);break;case 11:if(this.collideTop(t,r))return;if(this.collideLeft(t,i))return;this.collideRight(t,i+this.tileSize);break;case 12:if(this.collideLeft(t,i))return;this.collideBot(t,r+this.tileSize);break;case 13:if(this.collideTop(t,r))return;if(this.collideLeft(t,i))return;this.collideBot(t,r+this.tileSize);break;case 14:if(this.collideLeft(t,i))return;if(this.collideRight(t,i))return;this.collideBot(t,r+this.tileSize);break;case 15:if(this.collideTop(t,r))return;if(this.collideLeft(t,i))return;if(this.collideRight(t,i+this.tileSize))return;this.collideBot(t,r+this.tileSize);break;case 20:if(n){this.level+=1,this.levelOne=new h(this.level),this.triggerDoor=!0,this.player.posX-=10;break}case 21:n&&(this.restart=!0);case 22:n&&(this.gameWin=!0)}}},{key:"collideBot",value:function(e,t){return e.posY<t&&e.lastFrameY>=t&&(e.posY=t,e.velY=0,!0)}},{key:"collideLeft",value:function(e,t){return e.posX+e.width>t&&e.lastFrameX+e.width<=t&&(e.posX=t-e.width-.01,e.velX=0,!0)}},{key:"collideRight",value:function(e,t){return e.posX<t&&e.lastFrameX>=t&&(e.posX=t,e.velX=0,!0)}},{key:"collideTop",value:function(e,t){return e.posY+e.height>t&&e.lastFrameY+e.height<=t&&(e.posY=t-e.height-.01,e.velY=0,e.jumping=!1,!0)}},{key:"physics",value:function(){this.player.velY+=this.gravity,this.player.updatePlayer(),this.player.velX*=this.friction,this.player.velY*=this.friction,this.borderCollision(this.player),this.collideTile(this.player)}},{key:"update",value:function(){this.physics()}}])&&p(t.prototype,i),e}();function v(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var y=function(){function e(t,i,r){var n,o,s=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o=function(e){s.paused||s.run(e)},(n="handleRun")in this?Object.defineProperty(this,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):this[n]=o,this.fps=t,this.updateFunc=i,this.renderFunc=r,this.afr=void 0,this.updated=!1,this.timeTilUpdate=0,this.timeElapsed=0,this.paused=!1,this.muted=!1,this.bg=new Audio("src/sounds/bg.mp3"),this.bg.volume=.25,this.characPausedXY=[0,0],this.end=!1}var t,i;return t=e,(i=[{key:"run",value:function(e){for(this.timeTilUpdate+=e-this.timeElapsed,this.timeElapsed=e;this.timeTilUpdate>=this.fps&&!this.paused;)this.timeTilUpdate-=this.fps,this.updateFunc(),this.renderFunc();requestAnimationFrame(this.handleRun)}},{key:"pause",value:function(e){this.paused=!0,void 0===e&&(e=!1),this.end=e,!0!==e&&document.getElementById("pause").removeAttribute("class")}},{key:"unpause",value:function(){0==this.end&&(this.paused=!1,document.getElementById("pause").setAttribute("class","hidden"),this.start())}},{key:"mute",value:function(){this.muted=!0,this.bg.volume=0}},{key:"unmute",value:function(){this.muted=!1,this.bg.volume=.25}},{key:"start",value:function(){this.timeTilUpdate=this.fps,this.timeElapsed=window.performance.now(),this.afr=window.requestAnimationFrame(this.handleRun)}},{key:"stop",value:function(){window.cancelAnimationFrame(this.animation_frame_request)}}])&&v(t.prototype,i),e}();document.addEventListener("DOMContentLoaded",(function(){var e=function(e){a.bg.play(),!0===o.keyPressed(e.type,e.code)&&(a.start(),document.getElementById("start").setAttribute("class","hidden"))},i=function(){n.fill("#241b18"),n.drawMap(r,r.col),n.drawPlayer(r.player),n.render()},r=new d(0),n=new t(document.querySelector("#game"),3*r.height,3*r.width),o=new s,a=new y(40,(function(){!0===r.restart&&(r=new d(r.level),(n=new t(document.querySelector("#game"),3*r.height,3*r.width)).board.canvas.height=r.height,n.board.canvas.width=r.width),r.gameWin&&(a.pause(!0),a.stop(),document.getElementById("win").removeAttribute("class")),a.paused||(o.left.pressed&&r.player.moveLeft(),o.right.pressed&&r.player.moveRight(),o.jump.pressed&&(r.player.jump(a.muted),r.player.jumping=!0),!0===r.triggerDoor&&(r=new d(r.level),(n=new t(document.querySelector("#game"),3*r.height,3*r.width)).board.canvas.height=r.height,n.board.canvas.width=r.width),r.update())}),i);n.board.canvas.height=r.height,n.board.canvas.width=r.width,i(),a.paused||(window.addEventListener("keydown",e),window.addEventListener("keyup",e),window.addEventListener("keypress",(function(e){"KeyP"!==e.code||a.paused?"KeyP"===e.code&&a.paused&&a.unpause():a.pause(),"KeyM"!==e.code||a.muted?"KeyM"===e.code&&a.muted&&a.unmute():a.mute()}))),a.start()}))})()})();
//# sourceMappingURL=main.js.map